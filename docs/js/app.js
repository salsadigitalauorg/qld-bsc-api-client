(function(e){function t(t){for(var r,a,l=t[0],o=t[1],c=t[2],f=0,_=[];f<l.length;f++)a=l[f],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&_.push(n[a][0]),n[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);u&&u(t);while(_.length)_.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],r=!0,l=1;l<i.length;l++){var o=i[l];0!==n[o]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=i[0]))}return e}var r={},n={app:0},s=[];function a(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=r,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(i,r,function(t){return e[t]}.bind(null,r));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=o;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0392":function(e,t,i){"use strict";var r=i("e1d0"),n=i.n(r);n.a},"09bb":function(e,t,i){i("99af"),i("4160"),i("a15b"),i("b0c0"),i("b64b"),i("ac1f"),i("5319"),i("159b");var r=i("448a");i("96cf");var n=i("c973"),s=i("bc3a"),a="https://nginx-php-qld-bsc-master.au.amazee.io/",l={criteria_age:{label:"Age",queryName:"age",fieldName:"f_criteria_age"},criteria_authentication_level:{label:"Authentication level",queryName:"auth",fieldName:"f_criteria_authentication_level"},criteria_business_sector:{label:"Business sector",queryName:"sector",fieldName:"f_criteria_business_sector"},criteria_card_licences_permits:{label:"Card, licenses and permits",queryName:"permits",fieldName:"f_criteria_card_licences_permits"},criteria_housing:{label:"Housing",queryName:"housing",fieldName:"f_criteria_housing"},criteria_lifestage:{label:"Lifestage",queryName:"lifestage",fieldName:"f_criteria_lifestage"},criteria_location:{label:"Location",queryName:"loc",fieldName:"f_criteria_location"},criteria_residency_status:{label:"Residency status",queryName:"residency",fieldName:"f_criteria_residency_status"}};function o(e,t){var i=[];return i.push("include=f_agency"),t.forEach((function(e){e.value&&""!==e.value&&i.push("filter[".concat(e.field,".drupal_internal__tid][value]=").concat(e.value))})),"".concat(e,"api/v1/services?").concat(i.join("&"))}function c(e){return u.apply(this,arguments)}function u(){return u=n(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({method:"get",url:t,auth:{username:"bsc",password:"bsc2020"}});case 3:return i=e.sent,e.abrupt("return",i);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),u.apply(this,arguments)}function f(e){return _.apply(this,arguments)}function _(){return _=n(regeneratorRuntime.mark((function e(t){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:if(i=e.sent,!(i.data&&i.data.links&&i.data.links.next&&i.data.links.next.href)){e.next=10;break}return e.next=6,f(i.data.links.next.href);case 6:return n=e.sent,e.abrupt("return",[].concat(r(i.data.data),r(n)));case 10:return e.abrupt("return",i.data.data);case 11:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function d(){return p.apply(this,arguments)}function p(){return p=n(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f("".concat(a,"api/v1/eligibility_criteria"));case 2:if(t=e.sent,!(t&&t.length>0)){e.next=7;break}return i={},t.forEach((function(e){var t=e.type.replace("taxonomy_term--","");void 0===i[t]&&(i[t]=[]),i[t].push({id:e.attributes.drupal_internal__tid,name:e.attributes.name})})),e.abrupt("return",i);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return h=n(regeneratorRuntime.mark((function e(t){var i,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(o(a,t));case 2:if(i=e.sent,!(i&&i.data&&i.data.data&&i.data.data.length>0)){e.next=8;break}return r={},n=[],i.data.data.forEach((function(e){var t=e.type.replace("node--","");void 0===r[t]&&(r[t]=[]);var s=n.length;r[t].push(s);var a=e.attributes,l={type:t,id:a.drupal_internal__nid,service_id:e.relationships.f_service?e.relationships.f_service.data.meta.drupal_internal__nid:"",name:a.title,agency_service_id:a.f_agency_service_id?a.f_agency_service_id:"",do_it_online_url:a.f_do_it_online_url?a.f_do_it_online_url.uri:"",fees:a.f_fees?a.f_fees:"",form_url:a.f_form_url?a.f_form_url.uri:"",how_to:a.f_how_to?a.f_how_to.processed:"",in_person:a.f_in_person?a.f_in_person:"",keywords:a.f_keywords?a.f_keywords:"",long_description:a.f_long_description?a.f_long_description.processed:"",more_information_url:a.f_more_information_url?a.f_more_information_url.uri:"",old_qgs_id:a.f_old_qgs_id?a.f_old_qgs_id:"",old_sir_id:a.f_old_sir_id?a.f_old_sir_id:"",prerequisites:a.f_prerequisites?a.f_prerequisites.processed:"",business_unit_name:a.f_business_unit_name?a.f_business_unit_name:"",service_owner_name:a.f_service_owner_name?a.f_service_owner_name:"",service_owner_email:a.f_service_owner_email?a.f_service_owner_email:"",service_owner_status:a.f_service_owner_status?a.f_service_owner_status:"",service_date:a.f_service_date?a.f_service_date.value:"",service_date_end:a.f_service_date?a.f_service_date.end_value:"",service_status:a.f_service_status?a.f_service_status:"",service_type:a.f_service_type?a.f_service_type:"",service_validated_date:a.f_service_validated_date?a.f_service_validated_date:"",short_description:a.f_short_description?a.f_short_description:"",who_do_i_call:a.f_who_do_i_call?a.f_who_do_i_call:"",who_is_eligible:a.f_who_is_eligible?a.f_who_is_eligible.processed:""};if(e.relationships.f_agency){for(var o=e.relationships.f_agency.data.id,c=e.relationships.f_agency.data.type,u=null,f=0;f<i.data.included.length;f++){var _=i.data.included[f];if(_.type===c&&_.id===o){u=_;break}}u&&(l["agency_name"]=u.attributes.name||"",l["agency_type"]=u.attributes.f_agency_type||"",l["agency_acronym"]=u.attributes.f_agency_acronym||"",l["agency_website_url"]=u.attributes.f_agency_website_url.uri||"")}n.push(l)})),e.abrupt("return",{index:r,services:n});case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function m(e){var t={},i={};return e.index.service&&e.index.service.forEach((function(r){var n=e.services[r];i[n.id]=n.name,t[n.name]={id:n.id,title:n.name,description:n.short_description}})),e.index.service_interaction&&e.index.service_interaction.forEach((function(r){var n=e.services[r],s={id:n.id,title:n.name,description:n.short_description,keywordSearch:n.name.toUpperCase()},a=i[n.service_id];void 0===a&&(a="unsorted",t[a]||(t[a]={id:-1,title:"Interactions with no service"})),a&&(t[a]["serviceInteractions"]||(t[a]["serviceInteractions"]=[]),t[a]["serviceInteractions"].push(s))})),t}function b(){return l}function y(e){for(var t=Object.keys(l),i=0;i<t.length;i++){var r=t[i];if(l[r].queryName===e)return l[r]}}e.exports={loadCriteria:d,loadServices:v,getServiceGroups:m,getCriteriaFields:b,getCriteriaFromQuery:y}},2454:function(e,t,i){},"2f05":function(e,t,i){"use strict";var r=i("2454"),n=i.n(r);n.a},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("2b0e"),n=i("8c4f"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-view",{staticClass:"app"})},a=[],l=(i("0392"),i("2877")),o={},c=Object(l["a"])(o,s,a,!1,null,null,null),u=c.exports,f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"profile"},[e.networkError?i("div",[i("h1",[e._v("Network error")]),i("p",[e._v("A network error occurred connecting to the API. This is likely a CORS issue.")]),i("p",[e._v("This can be resolved by using an extentions to bypass CORS (or by updating our API implementation).")]),e._m(0)]):i("div",[i("div",{staticClass:"profile__image",class:{"profile__image--middle-remote":"middle-remote"===e.profile,"profile__image--middle-regional":"middle-regional"===e.profile,"profile__image--senior":"senior"===e.profile,"profile__image--custom":"custom"===e.profile}}),i("h1",{staticClass:"profile__title"},[e._v("Select a profile")]),i("div",{staticClass:"filter__input-select-wrapper"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.profile,expression:"profile"}],staticClass:"filter__select-input",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.profile=t.target.multiple?i:i[0]},e.updateForm]}},[i("option",{attrs:{value:""}},[e._v("None")]),i("option",{attrs:{value:"middle-remote"}},[e._v("Middle Aged - Country")]),i("option",{attrs:{value:"middle-regional"}},[e._v("Middle Aged - City")]),i("option",{attrs:{value:"senior"}},[e._v("Senior")]),i("option",{attrs:{value:"custom"}},[e._v("Custom")])])]),e.profile?i("div",{staticClass:"profile__form"},["custom"===e.profile?i("p",[e._v("Please fill out the following form to get a list of available services.")]):i("p",[e._v("This profile uses the following values to get a list of available services.")]),e._l(e.form,(function(t,r){return i("div",{key:r},[i("label",[i("span",{staticClass:"profile__form-field-label filter__label"},[e._v(e._s(t.label))]),i("div",{staticClass:"filter__input-select-wrapper"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"filter__select-input",on:{change:function(i){var r=Array.prototype.filter.call(i.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"value",i.target.multiple?r:r[0])}}},[i("option",{attrs:{value:""}}),e._l(t.options,(function(t,n){return i("option",{key:"field-"+r+"-"+n,domProps:{value:t.id}},[e._v(e._s(t.name))])}))],2)])])])}))],2):e._e(),e.profile?i("button",{staticClass:"btn",on:{click:e.submit}},[e._v("See the results")]):e._e()])])},_=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",[i("li",[i("a",{staticClass:"btn",attrs:{href:"https://addons.mozilla.org/en-US/firefox/addon/cors-everywhere/",target:"blank"}},[e._v("Extension for Firefox")])]),i("li",[i("a",{staticClass:"btn",attrs:{href:"https://chrome.google.com/webstore/detail/cross-domain-cors/mjhpgnbimicffchbodmgfnemoghjakai",target:"blank"}},[e._v("Extension for Chrome")])])])}],d=(i("4160"),i("b0c0"),i("b64b"),i("159b"),i("96cf"),i("1da1")),p=i("09bb"),v=i.n(p),h={name:"ProfilePage",data:function(){return{networkError:!1,profile:"",fieldMap:v.a.getCriteriaFields(),profileForms:{"middle-remote":["6","","","","","","",""],"middle-regional":["","","","","","63","",""],senior:["","","","","53","","","73"]},form:[]}},methods:{load:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.loadCriteria();case 3:i=t.sent,Object.keys(i).forEach((function(t){var r=i[t],n=e.fieldMap[t];e.form.push({label:n.label,value:"",name:n.queryName,options:r})})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.networkError=!0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},updateForm:function(){var e=this;if(""!==this.profile){var t="custom"===this.profile;this.form.forEach((function(i,r){i.value=t?"":e.profileForms[e.profile][r]}))}},submit:function(){if(this.profile.length>0){var e={};this.form.forEach((function(t){t.value&&(e[t.name]=t.value)})),this.$router.push({name:"results",query:e}),window.scrollTo(0,0)}}},created:function(){this.load()}},m=h,b=(i("eb29"),Object(l["a"])(m,f,_,!1,null,null,null)),y=b.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"app"},["listing"===e.state?i("div",[i("button",{staticClass:"full-view__back",on:{click:e.backToProfile}},[e._v("Back")]),"loading"===e.listingState?i("div",[i("p",{staticClass:"find-a-provider__message"},[e._v("Loading...")])]):e._e(),"display"===e.listingState?[i("form-filter",{attrs:{initialValues:e.filters},on:{filterSubmit:e.filterSubmit,filterQuickChange:e.filterQuickChange}}),i("results",{attrs:{list:e.serviceList},on:{selected:e.selectedResult}})]:e._e(),"error"===e.listingState?i("error",{on:{retry:e.load}}):e._e(),"no-results"===e.listingState?i("div",[i("p",{staticClass:"find-a-provider__message"},[e._v("No results were returned.")])]):e._e()],2):e._e(),"full"===e.state?i("div",[i("full-view",{attrs:{selected:e.selected},on:{back:e.backToResults}})],1):e._e()])},w=[],k=(i("a623"),i("c975"),i("d3b7"),i("25f0"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{staticClass:"filter",on:{submit:function(t){return t.preventDefault(),e.filterSubmit(t)}}},[i("div",{staticClass:"filter__first-line"},[i("div",{staticClass:"filter__field filter__keyword"},[i("label",{staticClass:"filter__label filter__keyword-label",attrs:{for:"filter__keyword"}},[e._v("Search service interactions by keywords")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.keywords,expression:"filter.keywords"}],staticClass:"filter__input filter__keyword-input",attrs:{id:"filter__keyword",type:"text",placeholder:"Search service interactions by keywords"},domProps:{value:e.filter.keywords},on:{keyup:e.filterQuickChange,input:function(t){t.target.composing||e.$set(e.filter,"keywords",t.target.value)}}})])])])}),C=[],x=(i("4de4"),{name:"FormFilter",components:{},props:{providerList:Array,initialValues:Object,filterList:Array},data:function(){return{filter:{keywords:this.initialValues.keywords,filter1:this.initialValues.filter1,sort:this.initialValues.sort}}},methods:{filterQuickChange:function(){this.$emit("filterQuickChange",this.filter)},filterSubmit:function(){this.$emit("filterSubmit",this.filter)}},watch:{initialValues:function(e){e.keywords&&(this.filter.keywords=e.keywords)}}}),S=x,O=(i("8f77"),Object(l["a"])(S,k,C,!1,null,null,null)),q=O.exports,E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.list.length>0?i("ul",{staticClass:"result"},e._l(e.list,(function(t,r){return i("li",{key:r,staticClass:"result__list-item"},[i("h3",{staticClass:"result__list-item-title"},[i("button",{staticClass:"result__list-item-title-button",class:{"result__list-item-title-button--expanded":e.expanded[r]},on:{click:function(t){return e.toggleExpand(r)}}},[i("span",[e._v(e._s(t.title))]),i("span",[e._v(" ("+e._s(t.serviceInteractions.length)+" service "+e._s(1===t.serviceInteractions.length?"interaction":"interactions")+")")])])]),e.expanded[r]?i("div",[t.id>=0?[i("h4",[e._v("Service")]),i("div",{staticClass:"result__sub-paragraph"},[i("p",[e._v(e._s(t.description))]),i("button",{staticClass:"result__subitem-field-title-button",on:{click:function(i){return e.selected(t)}}},[e._v("Read more about "+e._s(t.title.toLowerCase()))])])]:e._e(),i("h4",[e._v("Service interactions")]),0===t.serviceInteractions.length?i("p",{staticClass:"result__sub-paragraph"},[e._v("No service interactions available.")]):i("ol",{staticClass:"result__subitems"},e._l(t.serviceInteractions,(function(t,n){return i("li",{key:"service-"+r+"-"+n,staticClass:"result__subitem"},[i("div",{staticClass:"result__subitem-field result__subitem-field-1"},[i("h4",{staticClass:"result__subitem-field-title"},[i("button",{staticClass:"result__subitem-field-title-button",on:{click:function(i){return e.selected(t)}}},[e._v(e._s(t.title))])])]),i("div",{staticClass:"result__subitem-field result__subitem-field-2"},[i("span",{staticClass:"result__subitem-field-description"},[e._v(e._s(t.description))])])])})),0)],2):e._e()])})),0):i("div",{staticClass:"result__no-items"},[e._v("Sorry we could not find any results")])])},N=[],R=(i("d81d"),{name:"Results",components:{},props:{list:Array},data:function(){return{expanded:this.list.map((function(){return!1}))}},methods:{selected:function(e){this.$emit("selected",e)},toggleExpand:function(e){this.expanded[e]=r["a"].set(this.expanded,e,!this.expanded[e])}}}),j=R,$=(i("ebf2"),Object(l["a"])(j,E,N,!1,null,null,null)),F=$.exports,P=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"full-view"},[i("button",{staticClass:"full-view__back",on:{click:e.back}},[e._v("Back")]),i("div",{staticClass:"full-view__body"},[i("div",{staticClass:"full-view__main"},[i("h1",{staticClass:"full-view__title"},[e._v(e._s(e.selected.name))]),e._l(e.displayFields,(function(t,r){return i("div",{key:"body-"+r},[i("h2",[e._v(e._s(t.title))]),i("p",{domProps:{innerHTML:e._s(t.html)}})])}))],2),i("div",{staticClass:"full-view__sidebar"},[i("div",{staticClass:"full-view__contact"},e._l(e.displaySidebarGroups,(function(t,r){return i("div",{key:"contact-group-"+r,staticClass:"full-view__side-group"},[t.title?i("h2",[e._v(e._s(t.title))]):e._e(),e._l(t.fields,(function(t,n){return i("div",{key:"contact-group-"+r+"-"+n,staticClass:"full-view__side-field"},[i("strong",[e._v(e._s(t.title))]),i("p",{domProps:{innerHTML:e._s(t.html)}})])}))],2)})),0)])])])},I=[],T=(i("99af"),i("ac1f"),i("5319"),{name:"Results",props:{selected:Object},data:function(){return{fields:[{title:"Description",field:"long_description"},{title:"Who is eligible?",field:"who_is_eligible"},{title:"What you will need",field:"prerequisites"},{title:"How to",field:"how_to"},{title:"Fees",field:"fees",type:"url"},{title:"Do it online",field:"do_it_online_url",type:"url"},{title:"More information",field:"more_information_url",type:"url"},{title:"Form",field:"form_url",type:"url"},{title:"Who do I call?",field:"who_do_i_call"}],sidebarGroups:[{title:"Agency",fields:[{title:"Type",field:"agency_type"},{title:"Name",field:"agency_name"},{title:"Acronym",field:"agency_acronym"},{title:"Website",field:"agency_website_url",type:"url"}]},{title:"Service",fields:[{title:"Business",field:"business_unit_name"},{title:"Owner",field:"service_owner_name"},{title:"Email",field:"service_owner_email",type:"email"}]}]}},computed:{displayFields:function(){var e=this,t=[];return this.fields.forEach((function(i){var r=e.parseField(i);r&&t.push({title:i.title,html:r})})),t},displaySidebarGroups:function(){var e=this,t=[];return this.sidebarGroups.forEach((function(i){var r=[];i.fields.forEach((function(t){var i=e.parseField(t);i&&r.push({title:t.title,html:i})})),r.length>0&&t.push({title:i.title,fields:r})})),t}},methods:{back:function(){this.$emit("back")},parseField:function(e){if(this.selected[e.field]){var t=e.type?e.type:"text",i=this.selected[e.field];switch(t){case"text":i.indexOf("<p>")<0&&(i=i.replace(/\n/g,"<br/>"));break;case"url":0===i.indexOf("http")&&(i='<a href="'.concat(i,'">').concat(i,"</a>"));break;case"email":i='<a href="mailto:'.concat(i,'">').concat(i,"</a>");break}return i}return!1}}}),A=T,L=(i("2f05"),Object(l["a"])(A,P,I,!1,null,null,null)),Q=L.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"error"},[i("p",{staticClass:"error__message"},[e._v("An error has occurred trying to get data.")]),i("p",{staticClass:"error__message"},[e._v("You can retry by clicking the button below:")]),i("button",{staticClass:"error__button",on:{click:e.retry}},[e._v("Retry")])])},V=[],G={methods:{retry:function(){this.$emit("retry")}}},J=G,D=(i("7ab1"),Object(l["a"])(J,M,V,!1,null,null,null)),U=D.exports,B="id",H={name:"ResultsPage",components:{FormFilter:q,Results:F,FullView:Q,Error:U},data:function(){return{filterCriteria:[],dataset:null,filters:{keywords:null},state:"listing",listingState:"loading",selected:null,pageTitle:null}},computed:{serviceList:function(){var e=this,t=[];if(this.dataset){var i=v.a.getServiceGroups(this.dataset);Object.keys(i).forEach((function(r){i[r].serviceInteractions=e.filterList(i[r].serviceInteractions),e.sortList(i[r].serviceInteractions,"title"),t.push(i[r])}))}return this.sortList(t,"title"),t}},methods:{loadDataset:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var i,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.$route.query,r=[],Object.keys(i).forEach((function(e){if("id"!==e&&"q"!==e){var t=i[e];if(t){var n=v.a.getCriteriaFromQuery(e);r.push({field:n.fieldName,value:t})}}})),t.next=5,v.a.loadServices(r);case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))()},load:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.listingState="loading",t.next=4,e.loadDataset();case 4:i=t.sent,i?(e.dataset=i,e.listingState="display",e.setState(e.$route.query)):e.listingState="no-results",t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),e.listingState="error";case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},filterQuickChange:function(e){this.filters.keywords=e.keywords},getCleanQuery:function(){var e=JSON.parse(JSON.stringify(this.$route.query)),t=["q","id"];return t.forEach((function(t){return delete e[t]})),e},filterSubmit:function(e){var t=this.getCleanQuery();e.keywords&&e.keywords.length>0&&(t.q=encodeURIComponent(e.keywords)),JSON.stringify(this.$route.query)!==JSON.stringify(t)&&this.$router.push({query:t})},selectedResult:function(e){window.scrollTo(0,0);var t=this.getCleanQuery();t[B]=e.id,this.$router.push({query:t})},backToResults:function(){this.$router.push({query:this.getCleanQuery()})},backToProfile:function(){this.$router.push({path:"/"})},filterList:function(e){var t=this.filters.keywords;if(t){var i=[],r=!!this.filters.keywords&&this.filters.keywords.toUpperCase();return e.forEach((function(e){var t=[];r&&t.push(e.keywordSearch.indexOf(r)>-1);var n=t.every((function(e){return!0===e}));n&&i.push(e)})),i}return e},sortList:function(e,t){return e=e.sort((function(e,i){return e[t].localeCompare(i[t])})),e},setState:function(e){if(e[B]){for(var t=null,i=e[B].toString(),r=0;r<this.dataset.services.length;r++){var n=this.dataset.services[r];if(n.id.toString()===i){t=n;break}}t?(this.state="full",this.selected=t):console.log("Could not find result")}else this.state="listing",this.selected=null,this.filters.keywords=e.q?decodeURIComponent(e.q):""}},created:function(){this.load()},watch:{$route:function(e){this.setState(e.query)}}},W=H,z=Object(l["a"])(W,g,w,!1,null,null,null),Y=z.exports;r["a"].config.productionTip=!1,r["a"].use(n["a"]);var K=new n["a"]({mode:"hash",routes:[{path:"/",component:y},{path:"/results",name:"results",component:Y}]});new r["a"]({router:K,render:function(e){return e(u)}}).$mount("#app")},"7ab1":function(e,t,i){"use strict";var r=i("ee0b"),n=i.n(r);n.a},"8f77":function(e,t,i){"use strict";var r=i("eedf"),n=i.n(r);n.a},af34:function(e,t,i){},b50d:function(e,t,i){},e1d0:function(e,t,i){},eb29:function(e,t,i){"use strict";var r=i("b50d"),n=i.n(r);n.a},ebf2:function(e,t,i){"use strict";var r=i("af34"),n=i.n(r);n.a},ee0b:function(e,t,i){},eedf:function(e,t,i){}});